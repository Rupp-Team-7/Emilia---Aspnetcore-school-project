@model Emilia.Models.ProductViewModel.ProductIndexViewModel
@using Emilia.Models
@using Emilia.Models.ProductViewModel

@{ Layout = "~/Views/Shared/_Dashboard.cshtml"; } 
@await Html.PartialAsync("productNav")

<div class="row">
    <div class="col-sm-8">
        <h4>Product list</h4>
        <form class="form form-inline">
            <div class="form-group" >
                <input name="term" class="form-control" type="text" placeholder="Code or Name">
            </div>
            <div class="form-group">
                <input type="submit" class="btn btn-default" value="Take"/>
            </div>
        </form>
        <div class="light_border " id="product_panel">
            <ul>
                @foreach(var item in Model.Products)
                {
                    <li class="product_item clearfix">
                            <img  src="~/@item.FirstImage()" alt="">
                            <div class="product_detail_wrapper">
                                <span>@Html.DisplayFor(m => item.Id)</span>
                                <span>@Html.DisplayFor(m => item.Name)</span>
                                <span>@Html.DisplayFor(m => item.category)</span>
                                <span>$@Html.DisplayFor(m => item.UnitPrice)</span>
                                <span>@Html.DisplayFor(m => item.Created)</span>
                                <span class="text-muted">@item.ImageCount() Photo</span>
                            </div>
                            <div class=" float-right">
                                <a class=" fa fa-info " asp-controller="product" asp-action="detail" asp-route-id="@item.Id"></a>
                                <a class=" fa fa-edit" asp-controller="product" asp-action="edit" asp-route-id="@item.Id"></a>
                                <a class=" fa fa-trash" asp-controller="product" asp-action="delete" asp-route-id="@item.Id"></a>
                            </div>
                        </li>
                }
                
            </ul>
        </div>
    </div>
    <div class="col-sm-4"></div>
</div>